/* Import our comprehensive theme system */
@import './theme.css';

/* Legacy compatibility styles - these will be gradually migrated */
.legacy-btn,button.legacy{background:#075;color:#fff;border:2px solid #064;padding:8px 14px;border-radius:6px;font-weight:600;transition:background .15s,border-color .15s,box-shadow .15s;}
.legacy-btn:hover,button.legacy:hover{background:#064;}
.legacy-btn:active,button.legacy:active{background:#043;}

/* Form improvements using new theme system */
input,select,textarea{
  font-family: var(--font-family-sans);
  font-size: var(--font-size-base);
  min-height: 44px;
  padding: var(--space-3) var(--space-4);
  border: var(--border-width-thin) solid var(--color-gray-300);
  border-radius: var(--border-radius-md);
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

input:focus,select:focus,textarea:focus{
  outline: none;
  border-color: var(--color-primary-500);
  box-shadow: 0 0 0 3px rgb(59 130 246 / 0.1);
}

input[aria-invalid="true"],textarea[aria-invalid="true"],select[aria-invalid="true"]{
  border-color: var(--color-error);
}

input[aria-invalid="true"]:focus,textarea[aria-invalid="true"]:focus,select[aria-invalid="true"]:focus{
  box-shadow: 0 0 0 3px rgb(220 38 38 / 0.1);
}

.error-msg{
  color: var(--color-error);
  font-size: var(--font-size-sm);
  margin-top: var(--space-1);
}
/* Site layout using new theme system */
.siteHeader{
  background-color: var(--color-bg-primary);
  border-bottom: var(--border-width-thin) solid var(--color-gray-200);
  position:sticky;
  top:0;
  z-index: var(--z-sticky);
  box-shadow: var(--shadow-sm);
}

.siteHeader .inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  max-width: 1280px;
  margin:0 auto;
  padding: var(--space-4);
}

.brand{
  font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-lg);
  color: var(--color-primary-600);
}

.primaryNav a{
  margin-left: var(--space-4);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  transition: color var(--transition-fast);
}

.primaryNav a:hover,
.primaryNav a:focus{
  color: var(--color-primary-600);
}

.content{
  max-width: 1280px;
  margin:0 auto;
  padding: var(--space-4);
}

.siteFooter{
  margin-top: var(--space-16);
  padding: var(--space-8) var(--space-4);
  background-color: var(--color-bg-secondary);
  border-top: var(--border-width-thin) solid var(--color-gray-200);
  font-size: var(--font-size-sm);
  text-align:center;
  color: var(--color-text-tertiary);
}
/* Accessibility improvements */
.skip{
  position:absolute;
  left:-999px;
  top:auto;
  width:1px;
  height:1px;
  overflow:hidden;
}

.skip:focus{
  left: var(--space-2);
  top: var(--space-2);
  width:auto;
  height:auto;
  background-color: var(--color-gray-900);
  color: var(--color-text-inverse);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--border-radius-base);
  outline: 3px solid var(--color-primary-600);
  outline-offset: 2px;
  z-index: var(--z-modal);
}

/* Focus styles using theme system */
.focus-outline:focus,
a:focus,
button:focus,
input:focus,
select:focus,
textarea:focus {
  outline: 3px solid var(--color-primary-600);
  outline-offset: 2px;
}

/* Legacy fare grid - to be updated */
.fareGrid{
  display:flex;
  gap: var(--space-4);
  flex-wrap:wrap;
}

.brand-font{
  font-family:'BrandFont', var(--font-family-sans);
}

/* High-contrast utility */
.hc-outline{
  outline: 3px solid var(--color-primary-600) !important;
  outline-offset: 2px !important;
}

/* Enhanced skeleton loader using theme colors */
.skeleton{
  position:relative;
  overflow:hidden;
  background: linear-gradient(
    90deg,
    var(--color-gray-200) 25%,
    var(--color-gray-100) 50%,
    var(--color-gray-200) 75%
  );
  background-size:400% 100%;
  animation:shimmer 1.1s ease-in-out infinite;
}

@keyframes shimmer{
  0%{background-position:0 0;}
  100%{background-position:-400% 0;}
}

/* Minimum tap target sizing - improved */
button,
.btn,
a.button-like,
input[type="submit"],
input[type="button"],
label {
  min-height: 44px;
}

button,
.btn,
a.button-like {
  min-width: 44px;
}

/* Responsive design using theme system breakpoints */

/* Mobile (≤600px) - default styles */
@media (max-width: 600px){
  form button,
  form .btn {
    width: 100%;
    margin-bottom: var(--space-2);
  }
  
  form [data-inline]{
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .route-grid,
  .benefits-grid,
  .steps {
    grid-template-columns: 1fr !important;
    gap: var(--space-4);
  }
  
  .siteHeader .inner {
    padding: var(--space-3);
  }
  
  .content {
    padding: var(--space-3);
  }
  
  .container {
    padding: 0 var(--space-3);
  }
}

/* Very small screens (≤360px) */
@media (max-width: 360px){
  body {
    font-size: var(--font-size-base); /* Maintain 16px minimum */
  }
  
  h1, .h1 {
    font-size: var(--font-size-2xl);
  }
  
  h2, .h2 {
    font-size: var(--font-size-xl);
  }
  
  .siteHeader .inner {
    padding: var(--space-2);
  }
  
  .container {
    padding: 0 var(--space-2);
  }
}

/* Tablet (600px - 1024px) */
@media (min-width: 600px) and (max-width: 1024px) {
  .container {
    padding: 0 var(--space-6);
  }
  
  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-4);
  }
}

/* Desktop (>1024px) */
@media (min-width: 1024px) {
  .container {
    padding: 0 var(--space-8);
  }
  
  .form-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-6);
  }
}
